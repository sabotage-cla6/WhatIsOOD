<link href="main.css" rel="stylesheet">

# オブジェクト指向とは何？

オブジェクト指向が何か？は[Wikipedia](https://ja.wikipedia.org/wiki/%E3%82%AA%E3%83%96%E3%82%B8%E3%82%A7%E3%82%AF%E3%83%88%E6%8C%87%E5%90%91)に、非常に正確に記載してあります。

> オブジェクトとは、プログラミング視点ではデータ構造とその専属手続きを一つにまとめたものを指しており、分析/設計視点では情報資源とその処理手順を一つにまとめたものを指している。データとプロセスを個別に扱わずに、双方を一体化したオブジェクトを基礎要素にし、メッセージと形容されるオブジェクト間の相互作用を重視して、ソフトウェア全体を構築しようとする考え方がオブジェクト指向である。

オブジェクト指向で重要なことは、異なる部品間でデータに対する操作を専属手続きによって行う事（メッセージング）です。
よく、オブジェクト指向をポリモーフィズム（実装・継承）を中心に語られることがありますが、

# オブジェクト指向の例示解説

寿司屋のタッチパネルでの注文システムをもとに解説します。

このシステムの要件は下記のとおりとします。

- 客を席に案内すると、伝票が作成される
- タッチパネルに商品の一覧が表示される。一覧の中から食べたい商品を選択して注文する
- すべての商品は本タッチパネルからの注文とする
- 選択した商品を一度注文予定商品一覧に入り、そこから確定をすることで注文が完了する
- 客は注文済みの商品の一覧と未提供/提供済みの状態を確認することができる

箇条書きの雑な要件ですが、このようなシステムを例にあげて、解説を行います。

## オブジェクト指向のデータ構造

### RDBMS　の場合

RDBMSでは、データは関連でひも付きます。

<div clsss="ex-block">

| テーブル利用CD   | テーブルNo. | 人数 | 利    用開始時間 | 利用終了時間 | 状態 | 
| :--------------: | ----------: | ---: | :----------: | :----------: | :--: |
| 20230401-001-001 |           1 |    3 |        10:00 |        11:00 | 利用終了 | 
| 20230401-002-001 |           2 |    3 |        10:00 |        11:30 | 利用終了 | 
| 20230401-003-001 |           3 |    3 |        10:00 |        11:20 | 利用終了 | 
| 20230401-001-002 |           1 |    6 |        11:10 |        -     | 利用中   | 
| 20230401-002-002 |           2 |    1 |            - |        -     | 案内準備中 | 

| テーブル利用CD   | 注文商品No. | 注文商品 | 提供済み |
| :--------------: | ----------: | :------: | :------: |
| 20230401-001-001 |           1 | ほっき貝 |    済    |
| 20230401-001-001 |           2 | あか貝   |    済    |
| 20230401-001-001 |           3 | つぶ貝   |    済    |
| 20230401-001-001 |           4 | ほたて   |    済    |
| 20230401-001-001 |           5 | とり貝   |    済    |
| 20230401-001-001 |           6 | ミル貝   |    済    |
| 20230401-001-001 |           7 | マテ貝   |    済    |
| 20230401-002-001 |           1 | ナマコ   |    済    |
| 20230401-003-001 |           1 | 牡蠣     |    済    |
| 20230401-001-002 |           1 | アイゴ   |    済    |
| 20230401-001-002 |           2 | メジナ   |    済    |
| 20230401-001-002 |           3 | アジ     |    済    |
| 20230401-001-002 |           4 | イワシ   |    済    |
| 20230401-001-002 |           5 | カサゴの味噌汁   |    未    |

</div>

### オブジェクト指向　の場合

オブジェクト指向では、集約という構造でデータを保持することができます。
上記と同様のことをオブジェクト指向で実現する場合、
テーブル利用情報とテーブル注文詳細という２つの情報を下記の通り定義します。
そして、テーブル利用情報の情報として複数のテーブル注文詳細のデータを持てるようにします。
このように、１つの構造が別の構造を保持する形を集約といいます。

<div clsss="ex-block">

■テーブル利用情報

| テーブル利用CD   | テーブルNo. | 人数 | 利用開始時間 | 利用終了時間 | 状態       | テーブル注文詳細 |
| :--------------: | ----------: | ---: | :----------: | :----------: | :--------: | :-------- |

■テーブル注文詳細

| 注文商品No. | 注文商品 | 提供済み |
| ----------: | :------: | :------: |

</div>

<div clsss="ex-block">

■データの例

| テーブル利用CD   | テーブルNo. | 人数 | 利用開始時間 | 利用終了時間 | 状態       | テーブル注文詳細 |
| :--------------: | ----------: | ---: | :----------: | :----------: | :--------: | :--------------- |
| 20230401-001-001 |           1 |    3 |        10:00 |        11:00 | 利用終了   | 注文商品No：1, 注文商品：ほっき貝, 提供済み：済 |
|                  |             |      |              |              |            | 注文商品No：2, 注文商品：あか貝  , 提供済み：済 |
|                  |             |      |              |              |            | 注文商品No：3, 注文商品：つぶ貝  , 提供済み：済 | 
|                  |             |      |              |              |            | ・・・・・ | 
|                  |             |      |              |              |            | 注文商品No：7, 注文商品：マテ貝  , 提供済み：済 | 
| 20230401-002-001 |           2 |    3 |        10:00 |        11:30 | 利用終了   | 注文商品No：7, 注文商品：ナマコ  , 提供済み：済 | 
| 20230401-003-001 |           3 |    3 |        10:00 |        11:20 | 利用終了   | ・・・・・ | 
| 20230401-001-002 |           1 |    6 |        11:10 |        -     | 利用中     | ・・・・・ | 
| 20230401-002-002 |           2 |    1 |            - |        -     | 案内準備中 | ・・・・・ | 

</div>


## オブジェクト指向の構造

オブジェクト指向で単一の部品は下記の通りの構成で作られます。

<div style="border: 1px dotted #d8dee4;">

- クラス
    - コンストラクタ（部品の生成時の処理）
    - フィールド（データ）
    - メソッド（データに対する操作の手続き）

</div>

